{% extends "accounting/base.html" %}

{% block content %}
<div class="page-container">
    <h2 class="page-title">{{ year }}年{{ month }}月の支出</h2>

    <div class="sort-form">
        <form method="get">
            <label for="sort-by">並べ替え:</label>
            <select name="sort_by" id="sort-by" class="form-control">
                <option value="name">名前順</option>
                <option value="department">係り順</option>
            </select>
            <button type="submit" class="btn-sort">適用</button>
        </form>
    </div>

    <ul class="expense-list">
        {% for expense in expenses %}
        <li class="expense-item">
            <span class="expense-name">{{ expense.name }}</span>
                <span class="expense-amount">{{ expense.amount }}円</span>
                <span class="expense-department">{{ expense.department }}</span>
                {% if expense.department == '渉外' %}
                    <span class="expense-detail">施設: {{ expense.institution }}</span>
                {% else %}
                    <span class="expense-detail">内容: {{ expense.content }}</span>
                {% endif %}
                <span class="expense-date">{{ expense.date }}</span>
        </li>
        {% endfor %}
    </ul>

    <p class="total-amount">合計: {{ total }}円</p>
</div>

{% endblock %}
