{% extends "accounting/base.html" %}

{% block content %}
    <h2>月ごとの個人支出</h2>
    <p>ここでは、月ごとの支出を確認できます。月ごとの支出合計や詳細情報を一覧で表示します。</p>

    {% for name, monthly_expenses in personal_data.items %}
        <div class="person">
            <h3>{{ name }}</h3>
            <table>
                <tr>
                    <th>月</th>
                    <th>合計</th>
                </tr>
                {% for expense in monthly_expenses %}
                    <tr>
                        <td>
                            <!-- リンクを修正して月ごとの詳細ページに遷移 -->
                            <a href="{% url 'month_details' year=expense.month.year month=expense.month.month %}">
                                {{ expense.month | date:"Y年m月" }}
                            </a>
                        </td>
                        <td>{{ expense.total }}円</td>
                    </tr>
                {% endfor %}
            </table>
        </div>
    {% endfor %}
{% endblock %}

