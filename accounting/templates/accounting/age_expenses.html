{% extends "accounting/base.html" %}
{% block content %}

<form method="get">
    <label for="sort_by">並べ替え:</label>
    <select name="sort_by" id="sort_by">
        <option value="name" {% if request.GET.sort_by == 'name' %}selected{% endif %}>名前順</option>
        <option value="amount" {% if request.GET.sort_by == 'amount' %}selected{% endif %}>金額順</option>
        <option value="date" {% if request.GET.sort_by == 'date' %}selected{% endif %}>日付順</option>
    </select>
    <button type="submit">並べ替え</button>
</form>

    <h2>代ごとの支出</h2>
    
    <p>ここでは、代ごとの支出を確認できます。代ごとの支出合計や詳細情報を一覧で表示します。</p>

    {% for age, data in age_data.items %}
    <div class="age-group">
        <h3>{{ age }}代 - 合計: {{ data.total }}円</h3>
        <ul>
            {% for expense in data.details %}
                <li>{{ expense.name }}: {{ expense.amount }}円（{{ expense.date }}）</li>
            {% endfor %}
        </ul>
    </div>
    {% endfor %}
{% endblock %}
